# Provision an Azure cluster

## Overview

This example shows you how to use Hydroform to provision an Azure cluster.

## Installation

### Configure Azure

To provision an Azure cluster you need:

1. The **Client ID** and **Client Secret** of your Azure subscription stored in a TOML file:
    ```toml
    CLIENT_ID = "<my-client-id>"
    CLIENT_SECRET = "<my-client-secret>"
    ```
2. Login into your azure account with the Azure CLI:
    ```
    az login
    ```

### Run the example

1. To provision a new cluster on Azure, go to the `provision` directory and run:
    ```bash
    go run ./examples/azure/main.go -p {resource_group_name} -c /{path/to/credentials.toml} --persist
    ```

2. In the Azure portal, go to **Home** > **All Resources** to see your cluster on the list.

3. Export the **KUBECONFIG** environment variable pointing to the `kubeconfig` file generated by running the example. This will allow you to access the cluster.
    ```bash
    export KUBECONFIG=$(pwd)/kubeconfig.yaml
    ```
