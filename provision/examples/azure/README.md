# Provision an Azure cluster

## Overview

This example shows you how to use Hydroform to provision an Azure cluster.

## Installation

### Configure Azure

To provision an Azure cluster you need:

1. The Subscription ID, Tenant ID, Client ID, and Client Secret of your Azure subscription stored in a JSON file:
    ```json
    {
      "subscription_id": "{YOUR_SUBSCRIPTION_ID}",
      "tenant_id": "{YOUR_TENANT_ID}",
      "client_id": "{YOUR_APP_ID}",
      "client_secret": "{YOUR_APP_PASSWORD}"
    }
    ```

2. Login into your azure account with the Azure CLI:

    ```bash
    az login
    ```

### Run the example

1. To provision a new cluster on Azure, go to the `provision` directory and run:

    ```bash
    go run ./examples/azure/main.go -p {resource_group_name} -c /{path/to/credentials.json} --persist
    ```

2. In the Azure portal, go to **Home** > **All Resources** to see your cluster on the list.

3. Export the **KUBECONFIG** environment variable pointing to the `kubeconfig` file generated by running the example. This will allow you to access the cluster.

    ```bash
    export KUBECONFIG=$(pwd)/kubeconfig.yaml
    ```
